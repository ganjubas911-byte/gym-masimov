<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GYM Masimov</title>

<style>
body {
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  background: #111;
  color: #fff;
  margin: 0;
  padding: 16px;
}
h1 {
  text-align: center;
}
h3 {
  text-align: center;
  color: #aaa;
}
.exercise {
  background: #1c1c1e;
  padding: 14px;
  border-radius: 12px;
  margin-bottom: 12px;
}
.exercise-name {
  margin-bottom: 10px;
  font-size: 16px;
}
.controls {
  display: flex;
  align-items: center;
  justify-content: space-between;
}
button {
  background: #2c2c2e;
  color: #fff;
  border: none;
  border-radius: 10px;
  padding: 8px 16px;
  font-size: 18px;
}
.weight {
  font-size: 18px;
}
.done {
  margin-top: 20px;
  width: 100%;
  padding: 16px;
  font-size: 18px;
  background: #0a84ff;
  border-radius: 14px;
}
</style>
</head>

<body>

<h1>üèãÔ∏è‚Äç‚ôÇÔ∏è GYM Masimov</h1>
<h3 id="title"></h3>

<div id="list"></div>

<button class="done" onclick="finishWorkout()">‚úÖ –¢—Ä–µ–Ω—É–≤–∞–Ω–Ω—è –≤–∏–∫–æ–Ω–∞–Ω–æ</button>

<script>
const STEP = 2.5;

// --- –ü–õ–ê–ù–ò ---
const plans = [
  {
    name: "–ì—Ä—É–¥–∏ + –±—ñ—Ü–µ–ø—Å",
    A: ["–ñ–∏–º —à—Ç–∞–Ω–≥–∏ –ª–µ–∂–∞—á–∏", "–ë—ñ—Ü–µ–ø—Å –≥–∞–Ω—Ç–µ–ª—ñ (–º–æ–ª–æ—Ç–∫–∏)"],
    B: ["–ñ–∏–º –≥–∞–Ω—Ç–µ–ª–µ–π –ª–µ–∂–∞—á–∏", "–ë—ñ—Ü–µ–ø—Å EZ-–≥—Ä–∏—Ñ"]
  },
  {
    name: "–°–ø–∏–Ω–∞ + —Ç—Ä–∏—Ü–µ–ø—Å",
    A: ["–¢—è–≥–∞ –≤–µ—Ä—Ö–Ω—å–æ–≥–æ –±–ª–æ–∫—É", "–¢—Ä–∏—Ü–µ–ø—Å –∫–∞–Ω–∞—Ç"],
    B: ["–¢—è–≥–∞ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –±–ª–æ–∫—É", "–¢—Ä–∏—Ü–µ–ø—Å V-–Ω–∞—Å–∞–¥–∫–∞"]
  },
  {
    name: "–ù–æ–≥–∏ + –ø–ª–µ—á—ñ",
    A: ["–ñ–∏–º –Ω–æ–≥–∞–º–∏", "–ñ–∏–º –≥–∞–Ω—Ç–µ–ª–µ–π –ø–ª–µ—á—ñ"],
    B: ["–ü—Ä–∏—Å—ñ–¥–∞–Ω–Ω—è –∑—ñ —à—Ç–∞–Ω–≥–æ—é", "–ñ–∏–º —É –°–º—ñ—Ç—ñ"]
  }
];

// --- –°–¢–ê–ù ---
let state = JSON.parse(localStorage.getItem("gym_masimov")) || {
  planIndex: 0,
  cycle: "A",
  cycleCount: 0,
  weights: {}
};

// --- –†–ï–ù–î–ï–† ---
function render() {
  const plan = plans[state.planIndex];
  const exercises = plan[state.cycle];

  document.getElementById("title").innerText =
    `–°—å–æ–≥–æ–¥–Ω—ñ: ${plan.name} (–¶–∏–∫–ª ${state.cycle} ${state.cycleCount + 1}/3)`;

  const list = document.getElementById("list");
  list.innerHTML = "";

  exercises.forEach(name => {
    if (state.weights[name] === undefined) {
      state.weights[name] = 0;
    }

    const div = document.createElement("div");
    div.className = "exercise";
    div.innerHTML = `
      <div class="exercise-name">${name}</div>
      <div class="controls">
        <button onclick="changeWeight('${name}', -STEP)">‚àí</button>
        <div class="weight">${state.weights[name]} –∫–≥</div>
        <button onclick="changeWeight('${name}', STEP)">+</button>
      </div>
    `;
    list.appendChild(div);
  });
}

// --- –ó–ú–Ü–ù–ê –í–ê–ì–ò ---
function changeWeight(name, delta) {
  state.weights[name] = Math.max(0, state.weights[name] + delta);
  save();
}

// --- –ó–ê–í–ï–†–®–ï–ù–ù–Ø –¢–†–ï–ù–£–í–ê–ù–ù–Ø (–ì–û–õ–û–í–ù–ê –õ–û–ì–Ü–ö–ê) ---
function finishWorkout() {
  state.cycleCount++;

  // –Ø–∫—â–æ –ø—Ä–æ–π—à–ª–∏ 3 —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Ü–∏–∫–ª—É
  if (state.cycleCount >= 3) {
    state.cycleCount = 0;

    // –Ø–∫—â–æ –±—É–≤ —Ü–∏–∫–ª A ‚Üí –ø–µ—Ä–µ—Ö–æ–¥–∏–º–æ –Ω–∞ B
    if (state.cycle === "A") {
      state.cycle = "B";
    } 
    // –Ø–∫—â–æ –±—É–≤ —Ü–∏–∫–ª B ‚Üí –ø–µ—Ä–µ—Ö–æ–¥–∏–º–æ –Ω–∞ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –ø–ª–∞–Ω
    else {
      state.cycle = "A";
      state.planIndex = (state.planIndex + 1) % plans.length;
    }
  }

  save();
}

// --- –ó–ë–ï–†–ï–ñ–ï–ù–ù–Ø ---
function save() {
  localStorage.setItem("gym_masimov", JSON.stringify(state));
  render();
}

render();
</script>

</body>
</html>
